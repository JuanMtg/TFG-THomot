% Paquetes principales
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage{amsthm}
\usepackage[spanish]{babel}
\usepackage{makeidx}
\usepackage[rflt]{floatflt}		% Coloc imágenes flotantes
\usepackage{wrapfig}
\usepackage{fancyhdr}			% Paquete estilo página
\usepackage{libertine} \usepackage[libertine]{newtxmath} % Estilo de letra
\usepackage{faktor}				% Conjuntos cocientes
\usepackage[normalem]{ulem}		% Distintos subrayados
\usepackage{hyperref}			% Hipervínculos
\usepackage{parskip}			% Ajustes de distancia entre párrafos
\usepackage[pdftex,usenames,dvipsnames]{color}
\usepackage{wasysym}			% Símbolos


% Estilo de página
\pagestyle{fancy}

% TikZ CD y propiedades
\usepackage{tikz-cd}
\usetikzlibrary{matrix, arrows}

\tikzset{
commutative diagrams/.cd,
arrow style=tikz,
diagrams={>=latex},
mysymbol/.style={start anchor=center,end anchor=center,draw=none}
}

% Ajustes en el documento
\setlength{\headheight}{45pt} % Cabecera de las tablas
\widowpenalty=10000
\interfootnotelinepenalty=10000
% Nuevos comandos
\newcommand{\sen}{\operatorname{\sen}}
\newcommand*{\nts}[1]{\textbf{\color{magenta}{#1}}}
%%% Flechas inclusiones largas
\newcommand*{\longhookrightarrow}{\ensuremath{\lhook\joinrel\relbar\joinrel\rightarrow \nobreak}}
\newcommand*{\longhookleftarrow}{\ensuremath{\leftarrow\joinrel\relbar\joinrel\rhook \nobreak}}
\setlength{\medmuskip}{2mu}
\newcommand*{\bb}[1]{\mathbb{#1}}
%%% Redefinimos flechas para que no se corten entre líneas
\let\longra\longrightarrow
\renewcommand*{\longrightarrow}{\ensuremath{\longra \nobreak}}
\let\longla\longleftarrow
\renewcommand*{\longleftarrow}{\ensuremath{\longla \nobreak}}

%%% Comandos para grupos de homotopía y homología
\newcommand*{\homot}[2]{\ensuremath{\pi_{#1}(#2)}}
\newcommand*{\homotp}[2]{\ensuremath{\pi_{#1}\left(#2\right)}}
\newcommand*{\homs}[2]{\ensuremath{H_{#1}\left(#2\right)}}
\newcommand*{\homr}[2]{\ensuremath{\widetilde{H}_{#1}\left(#2\right)}}

%%% Redefinimos bar como overline y tilde como widetilde
\renewcommand*{\bar}[1]{\ensuremath{\overline{#1}}}
\renewcommand*{\tilde}[1]{\ensuremath{\widetilde{#1}}}

%%% Comando para introducir simbolos de conmutatividad en diagramas
\newcommand{\cdiagr}[2][\circlearrowright]{%
  \arrow[mysymbol]{#2}[description]{#1}}
\newcommand{\cdiagl}[2][\circlearrowleft]{%
  \arrow[mysymbol]{#2}[description]{#1}}

% Cambios en nombres de secciones
\addto\captionsspanish{\renewcommand{\appendixname}{}}

% Definición operadores big 
\makeatletter
\def\bign#1{\mathclose{\hbox{$\left#1\vbox to8.5\p@{}\right.\n@space$}}\mathopen{}}
\def\Bign#1{\mathclose{\hbox{$\left#1\vbox to11.5\p@{}\right.\n@space$}}\mathopen{}}
\def\biggn#1{\mathclose{\hbox{$\left#1\vbox to14.5\p@{}\right.\n@space$}}\mathopen{}}
\def\Biggn#1{\mathclose{\hbox{$\left#1\vbox to17.5\p@{}\right.\n@space$}}\mathopen{}}
\makeatother

% Entornos personalizados
%%% Para hacer un entorno con contador, hay que crearlo con \newcounter{cont}, inicializarlo con \setcounter{cont}{0} e introducirlo en el entorno para que avance una unidad con \stepcounter{cont} %%%
%% Ejemplos
\newenvironment{ejems}[1][\unskip]{%
	\let\oldtheenumi = \theenumi
	\let\oldlabelenumi = \labelenumi
	\renewcommand{\theenumi}{(\arabic{enumi})}
	\renewcommand{\labelenumi}{\textbf{\theenumi}}
	\vspace{0.5em} \par \noindent \textbf{Ejemplos #1:}
}
{
	\par \vspace{0.5em}
	\let\theenumi=\oldtheenumi
	\let\labelenumi=\oldlabelenumi
}

\newenvironment{ejem}[1][\unskip]{%
	\vspace{0.5em} \par \noindent \textbf{Ejemplo #1:}
}
{
	\par \vspace{0.5em}
}

\newenvironment{custom}[1][\unskip]{%
	\vspace{0.5em} \par \noindent \textbf{#1:}
}
{
	\par \vspace{0.5em}
}

%% Teoremas
\newenvironment{teor}[1][\unskip]{%
	\vspace{0.5em} \par \noindent \textbf{Teorema #1:}
}
{
	\par \vspace{0.5em}
}

\newenvironment{prop}[1][\unskip]{%
	\vspace{0.5em} \par \noindent \textbf{Proposición #1:}
}
{
	\par \vspace{0.5em}
}

\newenvironment{coro}[1][\unskip]{%
	\vspace{0.5em} \par \noindent \textbf{Corolario #1:}
}
{
	\par \vspace{0.5em}
}


%% Demostraciones
\newenvironment{demo}[1][\unskip]{%
	\vspace{0.5em} \par \noindent \uline{\textit{Demostración #1:}}
}
{
	\qed \par \vspace{0.5em}
}
%% Definiciones
\newenvironment{defin}[1][\unskip]{%
	\vspace{0.5em} \par \noindent \textbf{Definición #1:}
}
{
	\par \vspace{0.5em}
}
